{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/07-routing-nextjs/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\nimport type { Note, NewNote } from \"../types/note\";\nimport { error } from \"console\";\n\nconst myKey = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\nexport interface NoteListData {\n  notes: Note[];\n  totalPages: number;\n}\n\nexport const fetchNotes = async (\n  search: string,\n  page: number,\n  tag?: string\n): Promise<NoteListData> => {\n  try {\n    const res = await axios.get<NoteListData>(\n      `https://notehub-public.goit.study/api/notes`,\n      {\n        params: {\n          search,\n          page,\n          perPage: 12,\n          sortBy: \"created\",\n          tag\n        },\n        \n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n        \n      }\n    );\n    \n    const result = res.data;\n    console.log(result);\n    return result;\n  } catch (error) {\n    console.log(error);\n    return { notes: [], totalPages: 0 };\n  }\n};\n\nexport const createNote = async (values: NewNote): Promise<Note | null> => {\n  try {\n    const res = await axios.post<Note>(\n      `https://notehub-public.goit.study/api/notes`,\n      values,\n      {\n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n      }\n    );\n    console.log(res.data);\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nexport const deleteNote = async (noteId: string): Promise<Note | null> => {\n  try {\n    const res = await axios.delete<Note>(\n      `https://notehub-public.goit.study/api/notes/${noteId}`,\n      {\n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n      }\n    );\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nexport const fetchNoteById = async (id: string): Promise<Note | null> => {\n  try {\n    const res = await axios.get<Note>(\n      `https://notehub-public.goit.study/api/notes/${id}`,\n      {\n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n      }\n    );\n    return res.data\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};"],"names":[],"mappings":";;;;;;;;;;AAIc;AAJd;;AAIA,MAAM;AAMC,MAAM,aAAa,OACxB,QACA,MACA;IAEA,IAAI;QACF,MAAM,MAAM,MAAM,mJAAK,CAAC,GAAG,CACzB,CAAC,2CAA2C,CAAC,EAC7C;YACE,QAAQ;gBACN;gBACA;gBACA,SAAS;gBACT,QAAQ;gBACR;YACF;YAEA,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QAEF;QAGF,MAAM,SAAS,IAAI,IAAI;QACvB,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;YAAE,OAAO,EAAE;YAAE,YAAY;QAAE;IACpC;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,MAAM,MAAM,mJAAK,CAAC,IAAI,CAC1B,CAAC,2CAA2C,CAAC,EAC7C,QACA;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAEF,QAAQ,GAAG,CAAC,IAAI,IAAI;QACpB,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,MAAM,MAAM,mJAAK,CAAC,MAAM,CAC5B,CAAC,4CAA4C,EAAE,QAAQ,EACvD;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAEF,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF;AAEO,MAAM,gBAAgB,OAAO;IAClC,IAAI;QACF,MAAM,MAAM,MAAM,mJAAK,CAAC,GAAG,CACzB,CAAC,4CAA4C,EAAE,IAAI,EACnD;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAEF,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/NoteList/NoteList.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"NoteList-module__LCs_aq__button\",\n  \"content\": \"NoteList-module__LCs_aq__content\",\n  \"footer\": \"NoteList-module__LCs_aq__footer\",\n  \"list\": \"NoteList-module__LCs_aq__list\",\n  \"listItem\": \"NoteList-module__LCs_aq__listItem\",\n  \"tag\": \"NoteList-module__LCs_aq__tag\",\n  \"title\": \"NoteList-module__LCs_aq__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/07-routing-nextjs/components/NoteList/NoteList.tsx"],"sourcesContent":["'use client'\nimport { deleteNote } from \"@/lib/api\";\nimport type { Note} from \"../../types/note\";\nimport css from \"./NoteList.module.css\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport Link from \"next/link\";\n\n\ninterface NoteListProps {\n  notes: Note[];\n}\n\nconst NoteList = ({ notes }: NoteListProps) => {\n   const queryClient = useQueryClient();\n\n  const {mutate} = useMutation ({\n    mutationFn: (noteId: string) => deleteNote(noteId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [\"notes\"]\n      })\n    }\n  })\n\n  const handleDelete = (noteId: string) => {\n    mutate(noteId)\n  }\n\n  return (\n    <ul className={css.list}>\n      {notes.map((item) => (\n        <li key={item.id} className={css.listItem}>\n          <h2 className={css.title}>{item.title}</h2>\n          <p className={css.content}>{item.content}</p>\n          <div className={css.footer}>\n            <span className={css.tag}>{item.tag}</span>\n            <Link href={`/notes/${item.id}`}>View details</Link>\n            <button className={css.button} onClick={() => handleDelete(item.id)}>Delete</button>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default NoteList;\n"],"names":["c","_c","deleteNote","Note","css","useMutation","useQueryClient","Link","NoteListProps","notes","NoteList","t0","$","$i","Symbol","for","queryClient","t1","mutationFn","_temp","onSuccess","invalidateQueries","queryKey","mutate","t2","noteId_0","noteId","handleDelete","t3","t4","item","id","listItem","title","content","footer","tag","button","map","list"],"mappings":"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","ignoreList":[],"debugId":null}}]
}